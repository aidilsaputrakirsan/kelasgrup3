import{c as y,a as l,o as i,b as m,d as r,e as x,t as b,n as k,r as S,u as V,f as M,g as $,h as g,i as N,j as T,w as j,k as f,l as q,v as B,m as C,p as A}from"./index-Ba5GMqAr.js";import{_ as U}from"./AppButton-iMhb63T3.js";const z={class:"space-y-2"},I=["for"],L={key:0,class:"text-dusty-rose ml-1"},W={class:"relative"},D=["id","type","value","placeholder","required","disabled"],F={key:0,class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-charcoal-soft/60"},P={key:1,class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-red-500"},R={key:1,class:"text-sm text-red-500 flex items-center gap-1"},E={key:2,class:"text-sm text-charcoal-soft/70"},h={__name:"AppInput",props:{id:String,modelValue:[String,Number],type:{type:String,default:"text"},label:String,placeholder:String,required:Boolean,disabled:Boolean,error:String,helper:String},emits:["update:modelValue","focus","blur"],setup(t){const c=t,p=y(()=>({"border-red-500 focus:border-red-500 focus:ring-red-500/20":c.error,"pl-10":!!c.$slots?.icon}));return(o,a)=>(i(),l("div",z,[t.label?(i(),l("label",{key:0,for:t.id,class:"block text-sm font-medium text-charcoal-soft"},[x(b(t.label)+" ",1),t.required?(i(),l("span",L,"*")):m("",!0)],8,I)):m("",!0),r("div",W,[r("input",{id:t.id,type:t.type,value:t.modelValue,placeholder:t.placeholder,required:t.required,disabled:t.disabled,class:k([p.value,"w-full glass rounded-xl px-4 py-3 text-charcoal-soft placeholder-charcoal-soft/60 border border-white/20 focus:border-dusty-rose focus:ring-2 focus:ring-dusty-rose/20 transition-all duration-200 disabled:opacity-50"]),onInput:a[0]||(a[0]=e=>o.$emit("update:modelValue",e.target.value)),onFocus:a[1]||(a[1]=e=>o.$emit("focus",e)),onBlur:a[2]||(a[2]=e=>o.$emit("blur",e))},null,42,D),o.$slots.icon?(i(),l("div",F,[S(o.$slots,"icon")])):m("",!0),t.error?(i(),l("div",P,a[3]||(a[3]=[r("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]))):m("",!0)]),t.error?(i(),l("p",R,b(t.error),1)):t.helper?(i(),l("p",E,b(t.helper),1)):m("",!0)]))}},J={class:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50"},K={class:"w-full max-width-md animate-slide-up"},O={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden border border-white/20"},Y={class:"flex items-center"},Q={__name:"LoginView",setup(t){const c=A(),p=V(),o=M(),a=$(!1),e=g({username:"",password:"",rememberMe:!1}),n=g({username:"",password:""});N(()=>{w()});function w(){const d=localStorage.getItem("saved_credentials");if(d)try{const{username:s}=JSON.parse(d);e.username=s,e.rememberMe=!0}catch{}}async function v(){if(n.username="",n.password="",!e.username){n.username="Username wajib diisi";return}if(!e.password){n.password="Password wajib diisi";return}try{a.value=!0;const d=await p.login({username:e.username.trim(),password:e.password,rememberMe:e.rememberMe});d.success?(o.showToast("Login berhasil!","success"),c.push("/dashboard")):o.showToast(d.message||"Login gagal","error")}catch{o.showToast("Terjadi kesalahan saat login","error")}finally{a.value=!1}}return(d,s)=>(i(),l("div",J,[r("div",K,[s[7]||(s[7]=r("div",{class:"text-center mb-8"},[r("div",{class:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 mb-6 border border-white/20 shadow-sm"},[r("h1",{class:"text-2xl font-bold text-gray-800 mb-2 font-arabic"}," بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيم "),r("p",{class:"text-gray-600 italic"}," Assalamu'alaikum Warahmatullahi Wabarakatuh ")])],-1)),r("div",O,[s[5]||(s[5]=T('<div class="text-center p-6 bg-gradient-to-r from-pink-500 to-purple-600"><div class="w-16 h-16 mx-auto bg-white/20 rounded-xl flex items-center justify-center mb-4"><span class="text-3xl text-white">📿</span></div><h2 class="text-2xl font-bold text-white mb-2">Amalan Tracker</h2><p class="text-pink-100">Silakan masuk untuk melanjutkan</p></div>',1)),r("form",{onSubmit:j(v,["prevent"]),class:"p-6 space-y-6"},[f(h,{id:"username",modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=u=>e.username=u),label:"Username",placeholder:"Masukkan username",error:n.username,required:"",class:"w-full"},null,8,["modelValue","error"]),f(h,{id:"password",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=u=>e.password=u),type:"password",label:"Password",placeholder:"Masukkan password",error:n.password,required:"",class:"w-full"},null,8,["modelValue","error"]),r("div",Y,[q(r("input",{id:"rememberMe","onUpdate:modelValue":s[2]||(s[2]=u=>e.rememberMe=u),type:"checkbox",class:"h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded"},null,512),[[B,e.rememberMe]]),s[3]||(s[3]=r("label",{for:"rememberMe",class:"ml-2 text-sm text-gray-700"}," Ingat saya ",-1))]),f(U,{type:"submit",variant:"primary",size:"lg",loading:a.value,class:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700"},{default:C(()=>s[4]||(s[4]=[x(" Masuk ")])),_:1,__:[4]},8,["loading"])],32),s[6]||(s[6]=r("div",{class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},[r("div",{class:"text-center space-y-2"},[r("p",{class:"text-sm text-gray-600"},"Multi-device access tersedia"),r("div",{class:"text-xs font-medium text-pink-600 tracking-wider"}," ATK • AYS • FTR • WIN ")])],-1))])])]))}};export{Q as default};
